<ion-header [translucent]="true">
  <ion-toolbar class="toolbar-dark">
    <ion-title class="ion-text-center">Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding dark-background" style="--ion-background-color: $celeste-color;">
  <ion-header collapse="condense">
    <ion-toolbar color="dark">
      <ion-title size="large">Perfil</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-text class="profile-name" style="color: black;">
    <h2>{{ user.username }}</h2>
  </ion-text>
  

  <ion-avatar class="ion-margin-top ion-margin-bottom profile-avatar">
    <img [attr.src]="image" alt="Foto de perfil">
  </ion-avatar>

  <ion-grid>
    <ion-row>
      <ion-col size="12" class="ion-text-center">
        <ion-text class="profile-name" style="color: black;">
          <ion-input [disabled]="!editMode" [(ngModel)]="user.username" placeholder="Nombre de usuario" maxlength="50"></ion-input>
        </ion-text>
      </ion-col>
    </ion-row>
  
    <ion-row>
      <ion-col size="12" class="ion-text-center">
        <ion-text class="profile-name" style="color: black;">
          <ion-input [disabled]="!editMode" [(ngModel)]="user.email" placeholder="Correo electrónico" maxlength="100"></ion-input>
        </ion-text>
      </ion-col>
    </ion-row>
  
    <ion-row>
      <ion-col size="12" class="ion-text-center">
        <ion-text class="profile-name" style="color: black;">
          <ion-input [disabled]="!editMode" [(ngModel)]="user.password" type="password" placeholder="Contraseña" maxlength="20"></ion-input>
        </ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col size="12" class="ion-text-center">
      <ion-input type="file"  [disabled]="!editMode" (change)="onFileChanged($event)"></ion-input>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col size="12" class="ion-text-center">
        <ion-button (click)="toggleEditMode()">
          {{ editMode ? 'Guardar Cambios' : 'Editar Datos' }}
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-row class="ion-margin-top ion-align-items-center ion-justify-content-center">
    <ion-col size="auto">
      <ion-button class="register-button-dark rounded-button" fill="clear" (click)="goToLogin()">Volver</ion-button>
    </ion-col>
  </ion-row>

  <div *ngIf="loading" class="loading-overlay">
    <!-- Puedes personalizar el mensaje o agregar un spinner aquí -->
    Cargando...
  </div>

</ion-content>


